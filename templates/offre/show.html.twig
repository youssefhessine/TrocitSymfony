{% extends 'base.html.twig' %}

{% block title %}Offre{% endblock %}

{% block body %}
<nav class="navbar navbar-expand-lg navbar-light bg-light">
                  <div class="col-md-6"><img style="width:200px!important;" src="{{ asset('img/logo.png') }}" alt="Trocit Logo" /></div>
            <div class="container px-4 px-lg-5">
        </nav>
    <section class="py-5">
            <div class="container px-4 px-lg-5 my-5">
                <div class="row gx-4 gx-lg-5 align-items-center">
                    <div class="col-md-6"><img class="card-img-top mb-5 mb-md-0" src="{{ asset('uploads/' ~ offre.imageFilename) }}" alt="{{ offre.titre }} image " /></div>
                   <br><br><div class="col-md-6"><br><br> 
                        
                        <h1 class="display-5 fw-bolder">{{ offre.titre }}</h1>
                        <div class="fs-5 mb-5"><br>
                            <span style="color:#ac0000">Type :  {{ offre.type }}</span>
                        </div>
                        <p class="lead">{{ offre.description }}</p><br><br>
                         <div class="fs-5 mb-5">
                            <span style="color:#ac0000">Date  : {{ offre.date ? offre.date|date('Y-m-d') : '' }}</span>
                        </div>
                        <div class="small mb-1">Categorie : {{ offre.nomCategorie.nom }}</div><br>
                        <button class="btn btn-outline-dark mt-auto" id="troquer-btn" >Troquer</button><br><br>
                                    <script>
                                    document.getElementById("troquer-btn").addEventListener("click", function() {
                                    var xhr = new XMLHttpRequest();
                                    xhr.open("POST", "{{ path('app_offre_troquer', {'id': offre.id}) }}");
                                    xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
                                    xhr.send(JSON.stringify({}));
                                    });
                                    </script>
                          <a class="btn btn-outline-dark mt-auto" href="{{ path('app_offre_edit', {'id': offre.id}) }}">Modifier </a><br><br>
                     
                        <div class="d-flex">
                                {{ include('offre/_delete_form.html.twig') }}
                          
                             </div>
                         
                       
                    </div>
                </div>
                   <div class="d-flex">
          <a class="btn btn-outline-dark mt-auto"  href="{{ path('app_offre_index') }}">Les offres</a>
          </div>
            </div>
          
        </section>
           <footer class="py-5 bg-dark">
            <div class="container"><p class="m-0 text-center text-white">Copyright &copy; Trocit 2023</p></div>
        </footer>
        <script src="js/scripts.js"></script>
        </footer>
    
{% endblock %}
