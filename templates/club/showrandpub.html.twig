{% extends 'basefront.html.twig' %}

{% block body %}


	<div class="row g-4">
	
			<div class="col-lg-4 col-md-6 wow zoomIn" data-wow-delay="0.6s" style="visibility: visible; animation-delay: 0.6s; animation-name: zoomIn;">
				<div class="service-item d-flex flex-column justify-content-center text-center rounded">
					<div class="service-icon flex-shrink-0">
						<i class="fa fa-home fa-2x"></i>
					</div>
          {% if b is not null %}
					<h5 class="mb-3">{{ b.nom_pub}}
					</h5>
				
						quantite :
						{{  b.description }}</p>
					<p>
						<img src="uploads/{{  b.image }}" height="100" width="100">
					</p>
                    <P>    <link href="{{asset('back-office/css/css.css')}}" rel="stylesheet" media="all">

<div class="rate" id="rating">
    <input type="radio" id="star5" name="rate" value="5" />
    <label for="star5" title="text">5 stars</label>
    <input type="radio" id="star4" name="rate" value="4" />
    <label for="star4" title="text">4 stars</label>
    <input type="radio" id="star3" name="rate" value="3" />
    <label for="star3" title="text">3 stars</label>
    <input type="radio" id="star2" name="rate" value="2" />
    <label for="star2" title="text">2 stars</label>
    <input type="radio" id="star1" name="rate" value="1" />
    <label for="star1" title="text">1 star</label>
  </div> </p>
  
				</div>
			</div>
	
	</div>
  {% else %}
    <p>No random club was found.</p>
{% endif %}


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
{{ encore_entry_script_tags('app') }}







<script> 
var something = document.getElementById('rating');

something.onclick = function() {
     let elements = document.querySelector('input[name="rate"]:checked').value;
  console.log(elements);






 let text;
  if (confirm("confirm your rate") == true) {
    $.ajax({
            url: "http://127.0.0.1:8000/rate?rate="+elements+"&idcom="+{{  b.id }},
            type: 'GET',
            success: function(response) {
      window.location.assign("../stats");
            },
            error: function(xhr, status, error) {
                $('#bac-table').html('<p>Error: ' + error + '</p>');
            }
        });
  } else {
    text = "cancel your rate";
        console.log(text);

  }








    
};




</script>
{% endblock %}